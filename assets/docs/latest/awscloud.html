

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Amazon Cloud &mdash; Nextflow 0.22.5 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Nextflow 0.22.5 documentation" href="index.html"/>
        <link rel="next" title="Amazon S3 storage" href="amazons3.html"/>
        <link rel="prev" title="Configuration" href="config.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Nextflow
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="script.html">Pipeline script</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="channel.html">Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="operator.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="executor.html">Executors</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Amazon Cloud</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#aws-credentials">AWS credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-ssh-key">User &amp; SSH key</a></li>
<li class="toctree-l3"><a class="reference internal" href="#storage">Storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#boot-storage">Boot storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#instance-storage">Instance storage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#shared-file-system">Shared file system</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cluster-deployment">Cluster deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pipeline-execution">Pipeline execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cluster-shutdown">Cluster shutdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cluster-auto-scaling">Cluster auto-scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spot-prices">Spot prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-configuration">Advanced configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="amazons3.html">Amazon S3 storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="dnanexus.html">DNAnexus cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ignite.html">Apache Ignite</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracing.html">Tracing &amp; visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Pipeline sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Workflow introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Nextflow</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Amazon Cloud</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="amazon-cloud">
<span id="amazonscloud-page"></span><h1>Amazon Cloud<a class="headerlink" href="#amazon-cloud" title="Permalink to this headline">¶</a></h1>
<p>Nextflow provides out of the box support for the Amazon AWS cloud allowing you to setup a computing cluster,
deploy it and run your pipeline in the AWS infrastructure in a few commands.</p>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Cloud configuration attributes are provided in the <code class="docutils literal"><span class="pre">nextflow.config</span></code> file as shown in the example below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
    <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;ami-43f49030&#39;</span>
    <span class="n">instanceType</span> <span class="o">=</span> <span class="s1">&#39;m4.xlarge&#39;</span>
    <span class="n">subnetId</span> <span class="o">=</span> <span class="s1">&#39;subnet-05222a43&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above attributes define the virtual machine ID and type to be used and the VPC subnet ID to be applied
in you cluster. Replace these values with the ones of your choice.</p>
<p>Nextflow only requires a Linux image that provides support for <a class="reference external" href="http://cloudinit.readthedocs.io/">Cloud-init</a>
bootstrapping mechanism and includes a Java runtime (version 7 or 8) and a Docker engine (version 1.11 or higher).</p>
<p>For your convenience the following pre-configured Amazon Linux AMI is available in the <em>EU Ireland</em> region:
<code class="docutils literal"><span class="pre">ami-43f49030</span></code>.</p>
<div class="section" id="aws-credentials">
<h3>AWS credentials<a class="headerlink" href="#aws-credentials" title="Permalink to this headline">¶</a></h3>
<p>Nextflow will use the AWS credentials defined in your environment, using the standard AWS variables shown below:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">AWS_ACCESS_KEY_ID</span></code></li>
<li><code class="docutils literal"><span class="pre">AWS_SECRET_ACCESS_KEY</span></code></li>
<li><code class="docutils literal"><span class="pre">AWS_DEFAULT_REGION</span></code></li>
</ul>
</div></blockquote>
<p>Alternatively AWS credentials can be specified in the Nextflow configuration file.
See <a class="reference internal" href="config.html#config-aws"><span class="std std-ref">AWS configuration</span></a> for more details.</p>
</div>
<div class="section" id="user-ssh-key">
<h3>User &amp; SSH key<a class="headerlink" href="#user-ssh-key" title="Permalink to this headline">¶</a></h3>
<p>By default Nextflow creates in each EC2 instance a user with the same name as the one in your local computer and install
the SSH public key available at the path <code class="docutils literal"><span class="pre">$HOME/.ssh/id_rsa.pub</span></code>. A different user/key can be specified as shown below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
    <span class="n">userName</span> <span class="o">=</span> <span class="s1">&#39;the-user-name&#39;</span>
    <span class="n">keyFile</span> <span class="o">=</span> <span class="s1">&#39;/path/to/ssh/key.pub&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you want to use a <em>key-pair</em> defined in your AWS account and the default user configured in the AMI, specify the
attribute <code class="docutils literal"><span class="pre">keyName</span></code> in place of <code class="docutils literal"><span class="pre">keyFile</span></code> and the name of the existing user specifying the <code class="docutils literal"><span class="pre">userName</span></code> attribute.</p>
</div>
<div class="section" id="storage">
<h3>Storage<a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h3>
<p>The following storage types can be defined in the cloud instances: <em>boot</em>, <em>instance</em> and <em>shared</em>.</p>
</div>
<div class="section" id="boot-storage">
<h3>Boot storage<a class="headerlink" href="#boot-storage" title="Permalink to this headline">¶</a></h3>
<p>You can set the size of the <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/RootDeviceStorage.html">root device volume</a>
by specifying the attribute <code class="docutils literal"><span class="pre">bootStorageSize</span></code>. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
    <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;ami-xxx&#39;</span>
    <span class="n">bootStorageSize</span> <span class="o">=</span> <span class="s1">&#39;10 GB&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="instance-storage">
<h3>Instance storage<a class="headerlink" href="#instance-storage" title="Permalink to this headline">¶</a></h3>
<p>Amazon instances can provide one or more <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/InstanceStorage.html">ephemeral volume storage</a>,
depending the instance type chosen. This storage can be made available by using the <code class="docutils literal"><span class="pre">instanceStorageMount</span></code>
and <code class="docutils literal"><span class="pre">instanceStorageDevice</span></code> configuration attributes, as shown below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
        <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;xxx&#39;</span>
        <span class="n">instanceStorageMount</span> <span class="o">=</span> <span class="s1">&#39;/mnt/scratch&#39;</span>
        <span class="n">instanceStorageDevice</span> <span class="o">=</span> <span class="s1">&#39;/dev/xvdc&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The mount path can be any of your choice. The storage device name should follow a pattern that may change depending
the AMI and machine virtualization type. See the <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/device_naming.html">Amazon documentation for details</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently Nextflow can setup only one instance storage volume.</p>
</div>
</div>
<div class="section" id="shared-file-system">
<h3>Shared file system<a class="headerlink" href="#shared-file-system" title="Permalink to this headline">¶</a></h3>
<p>A shared file system can easily made available in your cloud cluster by using the <a class="reference external" href="https://aws.amazon.com/efs/">Amazon EFS</a>
storage. You will only need to specify in the cloud configuration the EFS file system ID and optionally the
mount path. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
    <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;ami-xxx&#39;</span>
    <span class="n">sharedStorageId</span> <span class="o">=</span> <span class="s1">&#39;fs-1803efd1&#39;</span>
    <span class="n">sharedStorageMount</span> <span class="o">=</span> <span class="s1">&#39;/mnt/shared&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When the attribute <code class="docutils literal"><span class="pre">sharedStorageMount</span></code> is omitted the path <code class="docutils literal"><span class="pre">/mnf/efs</span></code> is used by default.</p>
</div>
</div>
</div>
<div class="section" id="cluster-deployment">
<h2>Cluster deployment<a class="headerlink" href="#cluster-deployment" title="Permalink to this headline">¶</a></h2>
<p>Once defined the configuration settings in the <code class="docutils literal"><span class="pre">nextflow.config</span></code> file you can create the cloud cluster
by using the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">cloud</span> <span class="n">create</span> <span class="n">my</span><span class="o">-</span><span class="n">cluster</span> <span class="o">-</span><span class="n">c</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">nodes</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The string <code class="docutils literal"><span class="pre">my-cluster</span></code> identifies the cluster instance. Replace it with a name of your choice.</p>
<p>Finally replace <code class="docutils literal"><span class="pre">num-of-nodes</span></code> with the actual number of instances that will made-up the cluster.
One node is created as <em>master</em>, the remaining as <em>workers</em>. If the option <code class="docutils literal"><span class="pre">-c</span></code> is omitted only the <em>master</em> node
is created.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You will be charged accordingly the type and the number of instances chosen.</p>
</div>
</div>
<div class="section" id="pipeline-execution">
<h2>Pipeline execution<a class="headerlink" href="#pipeline-execution" title="Permalink to this headline">¶</a></h2>
<p>Once the cluster initialization is complete, connect to the <em>master</em> node by using the SSH command that will be showed by
Nextflow.</p>
<p>You can run your Nextflow pipeline as usual, the environment is automatically configured to use the <a class="reference internal" href="ignite.html#ignite-page"><span class="std std-ref">Ignite</span></a>
executor. If the Amazon EFS storage is specified in the cloud configuration the Nextflow work directory will
automatically be set in a shared folder in that file system.</p>
<p>The suggested approach is to run your pipeline downloading it from a public repository such
GitHub and to pack the binaries dependencies in a Docker container as described in the
<a class="reference internal" href="sharing.html#sharing-page"><span class="std std-ref">Pipeline sharing</span></a> section.</p>
</div>
<div class="section" id="cluster-shutdown">
<h2>Cluster shutdown<a class="headerlink" href="#cluster-shutdown" title="Permalink to this headline">¶</a></h2>
<p>When completed shutdown the cluster instances by using the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">cloud</span> <span class="n">shutdown</span> <span class="n">my</span><span class="o">-</span><span class="n">cluster</span>
</pre></div>
</div>
</div>
<div class="section" id="cluster-auto-scaling">
<h2>Cluster auto-scaling<a class="headerlink" href="#cluster-auto-scaling" title="Permalink to this headline">¶</a></h2>
<p>Nextflow integration for AWS cloud provides a native support auto-scaling that allows the computing cluster
to scale-out or scale-down i.e. add or remove computing nodes dynamically at runtime.</p>
<p>This is a critical feature, especially for pipelines crunching not homogeneous dataset, because it allows the
cluster to adapt dynamically to the actual workload computing resources need as they change over the time.</p>
<p>Cluster auto-scaling is enabled by adding the <code class="docutils literal"><span class="pre">autoscale</span></code> option group in the configuration file as shown below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
    <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;xxx&#39;</span>
    <span class="n">autoscale</span> <span class="p">{</span>
        <span class="n">enabled</span> <span class="o">=</span> <span class="n">true</span>
        <span class="n">maxInstances</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above example enables automatic cluster scale-out i.e. new instances are automatically launched and added to the
cluster when tasks remain too long in wait status because there aren't enough computing resources available. The
<code class="docutils literal"><span class="pre">maxInstances</span></code> attribute defines the upper limit to which the cluster can grow.</p>
<p>By default unused instances are not removed when are not utilised. If you want to enable automatic cluster scale-down
specify the <code class="docutils literal"><span class="pre">terminateWhenIdle</span></code> attribute in the <code class="docutils literal"><span class="pre">autoscale</span></code> configuration group.</p>
<p>It is also possible to define a different AMI image ID, type and spot price for instances launched by the Nextflow autoscaler.
For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cloud</span> <span class="p">{</span>
    <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;ami-xxx&#39;</span>
    <span class="n">instanceType</span> <span class="o">=</span> <span class="s1">&#39;m4.large&#39;</span>

    <span class="n">autoscale</span> <span class="p">{</span>
        <span class="n">enabled</span> <span class="o">=</span> <span class="n">true</span>
        <span class="n">spotPrice</span> <span class="o">=</span> <span class="mf">0.15</span>
        <span class="n">minInstances</span> <span class="o">=</span> <span class="mi">5</span>
        <span class="n">maxInstances</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="n">imageId</span> <span class="o">=</span> <span class="s1">&#39;ami-yyy&#39;</span>
        <span class="n">instanceType</span> <span class="o">=</span> <span class="s1">&#39;m4.4xlarge&#39;</span>
        <span class="n">terminateWhenIdle</span> <span class="o">=</span> <span class="n">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>By doing that it's is possible to create a cluster with a single node i.e. the master node. Then the autoscaler will
automatically add the missing instances, up to the number defined by the <code class="docutils literal"><span class="pre">minInstances</span></code> attributes. These will have a
different image and type from the master node and will be launched a <em>spot instances</em> because the <code class="docutils literal"><span class="pre">spotPrice</span></code>
attribute has been specified.</p>
</div>
<div class="section" id="spot-prices">
<h2>Spot prices<a class="headerlink" href="#spot-prices" title="Permalink to this headline">¶</a></h2>
<p>Nextflow includes an handy command to list the current price of EC2 spot instances. Simply type the following
command in your shell terminal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">cloud</span> <span class="n">spot</span><span class="o">-</span><span class="n">prices</span>
</pre></div>
</div>
<p>It will print the current spot price for all available instances type, similar to the example below:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">TYPE</span>        <span class="n">PRICE</span>  <span class="n">PRICE</span><span class="o">/</span><span class="n">CPU</span> <span class="n">ZONE</span>       <span class="n">DESCRIPTION</span>             <span class="n">CPUS</span>   <span class="n">MEMORY</span> <span class="n">DISK</span>
<span class="n">t1</span><span class="o">.</span><span class="n">micro</span>    <span class="mf">0.0044</span>    <span class="mf">0.0044</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">c</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span>                 <span class="mi">1</span> <span class="mf">627.7</span> <span class="n">MB</span> <span class="o">-</span>
<span class="n">m4</span><span class="o">.</span><span class="mi">4</span><span class="n">xlarge</span>  <span class="mf">0.1153</span>    <span class="mf">0.0072</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">a</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>   <span class="mi">16</span>    <span class="mi">64</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">m4</span><span class="o">.</span><span class="mi">10</span><span class="n">xlarge</span> <span class="mf">0.2952</span>    <span class="mf">0.0074</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">b</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>   <span class="mi">40</span>   <span class="mi">160</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">m4</span><span class="o">.</span><span class="n">large</span>    <span class="mf">0.0155</span>    <span class="mf">0.0077</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">b</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>    <span class="mi">2</span>     <span class="mi">8</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">m4</span><span class="o">.</span><span class="mi">2</span><span class="n">xlarge</span>  <span class="mf">0.0612</span>    <span class="mf">0.0077</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">a</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>    <span class="mi">8</span>    <span class="mi">32</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">m4</span><span class="o">.</span><span class="n">xlarge</span>   <span class="mf">0.0312</span>    <span class="mf">0.0078</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">a</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>    <span class="mi">4</span>    <span class="mi">16</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">c4</span><span class="o">.</span><span class="mi">8</span><span class="n">xlarge</span>  <span class="mf">0.3406</span>    <span class="mf">0.0095</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">c</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>   <span class="mi">36</span>    <span class="mi">60</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">m1</span><span class="o">.</span><span class="n">xlarge</span>   <span class="mf">0.0402</span>    <span class="mf">0.0100</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">b</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span>                 <span class="mi">4</span>    <span class="mi">15</span> <span class="n">GB</span> <span class="mi">4</span> <span class="n">x</span> <span class="mi">420</span> <span class="n">GB</span>
<span class="n">c4</span><span class="o">.</span><span class="mi">4</span><span class="n">xlarge</span>  <span class="mf">0.1652</span>    <span class="mf">0.0103</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">b</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>   <span class="mi">16</span>    <span class="mi">30</span> <span class="n">GB</span> <span class="o">-</span>
<span class="n">c1</span><span class="o">.</span><span class="n">xlarge</span>   <span class="mf">0.0825</span>    <span class="mf">0.0103</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">a</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span>                 <span class="mi">8</span>     <span class="mi">7</span> <span class="n">GB</span> <span class="mi">4</span> <span class="n">x</span> <span class="mi">420</span> <span class="n">GB</span>
<span class="n">m1</span><span class="o">.</span><span class="n">medium</span>   <span class="mf">0.0104</span>    <span class="mf">0.0104</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">b</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>    <span class="mi">1</span>   <span class="mf">3.8</span> <span class="n">GB</span> <span class="mi">1</span> <span class="n">x</span> <span class="mi">410</span> <span class="n">GB</span>
<span class="n">c3</span><span class="o">.</span><span class="mi">8</span><span class="n">xlarge</span>  <span class="mf">0.3370</span>    <span class="mf">0.0105</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">a</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span>                <span class="mi">32</span>    <span class="mi">60</span> <span class="n">GB</span> <span class="mi">2</span> <span class="n">x</span> <span class="mi">320</span> <span class="n">GB</span>
<span class="n">c3</span><span class="o">.</span><span class="mi">2</span><span class="n">xlarge</span>  <span class="mf">0.0860</span>    <span class="mf">0.0108</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">c</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span>                 <span class="mi">8</span>    <span class="mi">15</span> <span class="n">GB</span> <span class="mi">2</span> <span class="n">x</span> <span class="mi">80</span> <span class="n">GB</span>
<span class="n">c3</span><span class="o">.</span><span class="mi">4</span><span class="n">xlarge</span>  <span class="mf">0.1751</span>    <span class="mf">0.0109</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">c</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>   <span class="mi">16</span>    <span class="mi">30</span> <span class="n">GB</span> <span class="mi">2</span> <span class="n">x</span> <span class="mi">160</span> <span class="n">GB</span>
<span class="n">m3</span><span class="o">.</span><span class="mi">2</span><span class="n">xlarge</span>  <span class="mf">0.0869</span>    <span class="mf">0.0109</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">c</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span> <span class="p">(</span><span class="n">Amazon</span> <span class="n">VPC</span><span class="p">)</span>    <span class="mi">8</span>    <span class="mi">30</span> <span class="n">GB</span> <span class="mi">2</span> <span class="n">x</span> <span class="mi">80</span> <span class="n">GB</span>
<span class="n">r3</span><span class="o">.</span><span class="n">large</span>    <span class="mf">0.0218</span>    <span class="mf">0.0109</span> <span class="n">eu</span><span class="o">-</span><span class="n">west</span><span class="o">-</span><span class="mi">1</span><span class="n">c</span> <span class="n">Linux</span><span class="o">/</span><span class="n">UNIX</span>                 <span class="mi">2</span>  <span class="mf">15.2</span> <span class="n">GB</span> <span class="mi">1</span> <span class="n">x</span> <span class="mi">32</span> <span class="n">GB</span>
<span class="p">:</span>
</pre></div>
</div>
<p>It's even possible to refine the showed data by specifying a filtering and ordering criteria. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">cloud</span> <span class="n">spot</span><span class="o">-</span><span class="n">prices</span> <span class="o">-</span><span class="n">sort</span> <span class="n">pricecpu</span> <span class="o">-</span><span class="nb">filter</span> <span class="s2">&quot;cpus==4&quot;</span>
</pre></div>
</div>
<p>It will only print instance types having 4 cpus and sorting them by the best price per cpu.</p>
</div>
<div class="section" id="advanced-configuration">
<h2>Advanced configuration<a class="headerlink" href="#advanced-configuration" title="Permalink to this headline">¶</a></h2>
<p>Read <a class="reference internal" href="config.html#config-cloud"><span class="std std-ref">Cloud configuration</span></a> section to learn more about advanced cloud configuration options.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="amazons3.html" class="btn btn-neutral float-right" title="Amazon S3 storage" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="config.html" class="btn btn-neutral" title="Configuration" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2016, Nextflow authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'https://www.nextflow.io/docs/latest/index.html',
            VERSION:'0.22.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>