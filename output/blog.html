<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <!--<meta http-equiv="X-UA-Compatible" content="IE=edge">-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.nextflow.io/feed.xml">
    <title>Nextflow</title>
    <meta name="keywords" content="dataflow, data-flow, dataflow programming model, flow-based programming, pipeline, computational pipeline, bioinformatics, bioinformatics pipeline, RNAseq, next gen sequencing, next generation sequencing, parallel computing, cloud computing, distributed computing, grid computing, cluster computing, Sun Grid Engine, SGE, Oracle Grid Engine"/>

    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/css/color-styles.css" rel="stylesheet">
    <link href="/css/ui-elements.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">

    <!-- Resources -->
    <link href="/css/animate.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

</head>

<body class="body-green">

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">

    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="/index.html" style='padding: 8px'><img src='/img/nextflow2014_no-bg.png' height='40px' style='border: 0;'></a>
        </div>
        <div class="navbar-collapse collapse">

            <ul class="nav navbar-nav navbar-left hidden-xs">
                <li class="show animated flipInX" >
                    <a href="/index.html#Features" class="pull-right">Features</a>
                </li>
                <li class="show animated flipInX" >
                    <a href="/index.html#GetStarted" class="pull-right">Quick start</a>
                </li>

                <li class="dropdown show animated flipInX">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Examples <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li><a href="/example1.html">Basic pipeline</a></li>
                        <li><a href="/example2.html">Mixing scripting languages</a></li>
                        <li><a href="/example3.html">BLAST pipeline</a></li>
                        <li><a href="/example4.html">RNAseq pipeline</a></li>
                    </ul>
                </li>

                <li class="show animated flipInX">
                    <a href="/docs/latest/index.html" class="pull-right" target="_blank">Documentation</a>
                </li>

                <li class="show animated flipInX">
                    <a href="/blog.html">Blog</a>
                </li>

                <li class="show animated flipInX">
                    <a href="/about-us.html">About Us</a>
                </li>
            </ul>
        </div>
    </div>
</div>
	
	
	<!-- Body -->
	<div class="wrapper"> <!-- wrapper -->
	  <div class="container">
	    <div class="row">
		  <div class="col-xs-12">
		    <h3>Blog <small>Posts or news stories regarding Nextflow, computational pipelines and parallel computing</small></h3>
		    <hr>
		  </div>
		</div>
	    <div class="row">
		  <div class="col-sm-8">
			<div class="timeline">
			  <div class="blg-summary">
			    <h3 ><a href="blog/2014/nextflow-meets-docker.html">Reproducibility in Science - Nextflow meets Docker </a></h3>
				<div class="timeline-info hidden-xs">
				  <img src="/img/maria.png" class="blg-author" alt="...">
				</div>
			    <ul class="text-muted list-inline blg-header">
				  <li><i class="fa fa-user"></i> Maria Chatzou</li>
				  <li><i class="fa fa-calendar"></i> 09 September 2014 </li>
				  <!--<li><i class="fa fa-comments-o"></i> 21 comments</li> -->
			    </ul>
			    <hr>
			    <p class="blg-text">
			      <p>The scientific world nowadays operates on the basis of published articles. These are used to report novel discoveries to the rest of the scientific community. </p><p>But have you ever wondered what a scientific article is? It is a:</p>
<ol>
  <li>defeasible argument for claims, supported by</li>
  <li>exhibited, reproducible data and methods, and</li>
  <li>explicit references to other work in that domain;</li>
  <li>described using domain-agreed technical terminology,</li>
  <li>which exists within a complex ecosystem of technologies, people and activities.</li>
</ol><p>Hence the very essence of Science relies on the ability of scientists to reproduce and build upon each otherâ€™s published results.</p><p>So how much can we rely on published data? In a recent report in Nature, researchers at the Amgen corporation found that only 11% of the academic research in the literature was reproducible by their groups [<a href="http://www.nature.com/nature/journal/v483/n7391/full/483531a.html">1</a>]. </p><p>While many factors are likely at play here, perhaps the most basic requirement for reproducibility holds that the materials reported in a study can be uniquely identified and obtained, such that experiments can be reproduced as faithfully as possible. This information is meant to be documented in the "materials and methods" of journal articles, but as many can attest, the information provided there is often not adequate for this task. </p><h3>Promoting Computational Research Reproducibility</h3><p>Encouragingly scientific reproducibility has been at the forefront of many news stories and there exist numerous initiatives to help address this problem. Particularly, when it comes to producing reproducible computational analyses, some publications are starting to publish the code and data used for analysing and generating figures. </p><p>For example, many articles in Nature and in the new Elife journal (and others) provide a "source data" download link next to figures. Sometimes Elife might even have an option to download the source code for figures.</p><p>As pointed out by Melissa Gymrek <a href="http://melissagymrek.com/science/2014/08/29/docker-reproducible-research.html">in a recent post</a> this is a great start, but there are still lots of problems. She wrote that, for example, if one wants to re-execute a data analyses from these papers, he/she will have to download the scripts and the data, to only realize that he/she has not all the required libraries, or that it only runs on, for example, an Ubuntu version he/she doesn't have, or some paths are hard-coded to match the authors' machine. </p><p>If it's not easy to run and doesn't run out of the box the chances that a researcher will actually ever run most of these scripts is close to zero, especially if they lack the time or expertise to manage the required installation of third-party libraries, tools or implement from scratch state-of-the-art data processing algorithms.</p><h3>Here comes Docker</h3><p><a href="http://www.docker.com">Docker</a> containers technology is a solution to many of the computational research reproducibility problems. Basically, it is a kind of a lightweight virtual machine where you can set up a computing environment including all the libraries, code and data that you need, within a single <em>image</em>. </p><p>This image can be distributed publicly and can seamlessly run on any major Linux operating system. No need for the user to mess with installation, paths, etc. </p><p>They just run the Docker image you provided, and everything is set up to work out of the box. Researchers have already started discussing this (e.g. <a href="http://www.bioinformaticszen.com/post/reproducible-assembler-benchmarks/">here</a>, and <a href="https://bcbio.wordpress.com/2014/03/06/improving-reproducibility-and-installation-of-genomic-analysis-pipelines-with-docker/">here</a>).</p><h3>Docker and Nextflow: a perfect match</h3><p>One big advantage Docker has compared to <em>traditional</em> machine virtualisation technology is that it doesn't need a complete copy of the operating system, thus it has a minimal startup time. This makes it possible to virtualise single applications or launch the execution of multiple containers, that can run in parallel, in order to speedup a large computation. </p><p>Nextflow is a data-driven toolkit for computational pipelines, which aims to simplify the deployment of distributed and highly parallelised pipelines for scientific applications. </p><p>The latest version integrates the support for Docker containers that enables the deployment of self-contained and truly reproducible pipelines. </p><h3>How they work together</h3><p>A Nextflow pipeline is made up by putting together several processes. Each process can be written in any scripting language that can be executed by the Linux platform (BASH, Perl, Ruby, Python, etc). Parallelisation is automatically managed by the framework and it is implicitly defined by the processes input and output declarations. </p><p>By integrating Docker with Nextflow, every pipeline process can be executed independently in its own container, this guarantees that each of them run in a predictable manner without worrying about the configuration of the target execution platform. Moreover the minimal overhead added by Docker allows us to spawn multiple container executions in a parallel manner with a negligible performance loss when compared to a platform <em>native</em> execution. </p><h3>An example</h3><p>As a proof of concept of the Docker integration with Nextflow you can try out the pipeline example at this <a href="https://github.com/nextflow-io/examples/blob/master/blast-parallel.nf">link</a>. </p><p>It splits a protein sequences multi FASTA file into chunks of <em>n</em> entries, executes a BLAST query for each of them, then extracts the top 10 matching sequences and finally aligns the results with the T-Coffee multiple sequence aligner. </p><p>In a common scenario you generally need to install and configure the tools required by this script: BLAST and T-Coffee. Moreover you should provide a formatted protein database in order to execute the BLAST search.</p><p>By using Docker with Nextflow you only need to have the Docker engine installed in your computer and a Java VM. In order to try this example out, follow these steps: </p><p>Install the latest version of Nextflow by entering the following command in your shell terminal:</p>
<pre><code> curl -fsSL get.nextflow.io | bash
</code></pre><p>Then download the required Docker image with this command: </p>
<pre><code> docker pull nextflow/examples
</code></pre><p>You can check the content of the image looking at the <a href="https://github.com/nextflow-io/examples/blob/master/Dockerfile">Dockerfile</a> used to create it.</p><p>Now you are ready to run the demo by launching the pipeline execution as shown below: </p>
<pre><code>nextflow run examples/blast-parallel.nf -with-docker
</code></pre><p>This will run the pipeline printing the final alignment out on the terminal screen. You can also provide your own protein sequences multi FASTA file by adding, in the above command line, the option <code>--query &lt;file&gt;</code> and change the splitting chunk size with <code>--chunk n</code> option. </p><p>Note: the result doesn't have a real biological meaning since it uses a very small protein database. </p><h3>Conclusion</h3><p>The mix of Docker, GitHub and Nextflow technologies make it possible to deploy self-contained and truly replicable pipelines. It requires zero configuration and enables the reproducibility of data analysis pipelines in any system in which a Java VM and the Docker engine are available.</p><h3>Learn how to do it!</h3><p>Follow our documentation for a quick start using Docker with Nextflow at the following link <a href="http://www.nextflow.io/docs/latest/docker.html">http://www.nextflow.io/docs/latest/docker.html</a></p>
			    </p>
			    
			    <!--
			    <p class="tags">
				  <a href="#" class="background-color bg-hover-color">Bootstrap</a>
				  <a href="#" class="background-color bg-hover-color">HTML5</a>
				  <a href="#" class="background-color bg-hover-color">CSS</a>
				  <a href="#" class="background-color bg-hover-color">jQuery</a>
			    </p>
			    -->
			  </div>
			  <div class="blg-summary">
			    <h3 ><a href="blog/2014/share-nextflow-pipelines-with-github.html">Share Nextflow pipelines with Github</a></h3>
				<div class="timeline-info hidden-xs">
				  <img src="/img/pablo.jpg" class="blg-author" alt="...">
				</div>
			    <ul class="text-muted list-inline blg-header">
				  <li><i class="fa fa-user"></i> Paolo Di Tommaso</li>
				  <li><i class="fa fa-calendar"></i> 07 August 2014 </li>
				  <!--<li><i class="fa fa-comments-o"></i> 21 comments</li> -->
			    </ul>
			    <hr>
			    <p class="blg-text">
			      <p>The <a href="https://github.com">GitHub</a> code repository and collaboration platform is widely used between researchers to publish their work and to collaborate on projects source code. </p><p>Even more interestingly a few months ago <a href="https://github.com/blog/1840-improving-github-for-science">GitHub announced improved support for researchers</a> making it possible to get a Digital Object Identifier (DOI) for any GitHub repository archive. </p><p>With a DOI for your GitHub repository archive your code becomes formally citable in scientific publications.</p><h3>Why use GitHub with Nextflow?</h3><p>The latest Nextflow release (0.9.0) seamlessly integrates with GitHub. This feature allows you to manage your code in a more consistent manner, or use other people's Nextflow pipelines, published through GitHub, in a quick and transparent manner. </p><h3>How it works</h3><p>The idea is very simple, when you launch a script execution with Nextflow, it will look for a file with the pipeline name you've specified. If that file does not exist, it will look for a public repository with the same name on GitHub. If it is found, the repository is automatically downloaded to your computer and the code executed. This repository is stored in the Nextflow home directory, by default <code>$HOME/.nextflow</code>, thus it will be reused for any further execution.</p><p>You can try this feature out, having Nextflow (version 0.9.0 or higher) installed in your computer, by simply entering the following command in your shell terminal:</p>
<pre><code>nextflow run nextflow-io/hello 
</code></pre><p>The first time you execute this command Nextflow will download the pipeline at the following GitHub repository <code>https://github.com/nextflow-io/hello</code>, as you don't already have it in your computer. It will then execute it producing the expected output.</p><p>In order for a GitHub repository to be used as a Nextflow project, it must contain at least one file named <code>main.nf</code> that defines your Nextflow pipeline script.</p><h3>Run a specific revision</h3><p>Any Git branch, tag or commit ID in the GitHub repository can be used to specify a revision, that you want to execute, when running your pipeline by adding the <code>-r</code> option to the run command line. So for example you could enter:</p>
<pre><code>nextflow run nextflow-io-/hello -r mybranch   
</code></pre><p>or </p>
<pre><code>nextflow run nextflow-io-/hello -r v1.1
</code></pre><p>This can be very useful when comparing different versions of your project. It also guarantees consistent results in your pipeline as your source code evolves.</p><h3>Commands to manage pipelines</h3><p>The following commands allows you to perform some basic operations that can be used to manage your pipelines. Anyway Nextflow is not meant to replace functionalities provided by the <a href="http://git-scm.com/">Git</a> tool, you may still need it to create new repositories or commit changes, etc. </p><h4>List available pipelines</h4><p>The <code>ls</code> command allows you to list all the pipelines you have downloaded in your computer. For example: </p>
<pre><code>nextflow ls
</code></pre><p>This prints a list similar to the following one: </p>
<pre><code>cbcrg/piper-nf
nextflow-io/hello
</code></pre><h4>Show pipeline information</h4><p>By using the <code>info</code> command you can show information from a downloaded pipeline. For example:</p>
<pre><code>$ nextflow info hello
</code></pre><p>This command prints: </p>
<pre><code> repo name  : nextflow-io/hello
 home page  : http://github.com/nextflow-io/hello
 local path : $HOME/.nextflow/assets/nextflow-io/hello
 main script: main.nf
 revisions  : 
 * master (default)
   mybranch
   v1.1 [t]
   v1.2 [t]   
</code></pre><p>Starting from the top it shows: 1) the repository name; 2) the project home page; 3) the local folder where the pipeline has been downloaded; 4) the script that is executed when launched; 5) the list of available revisions i.e. branches + tags. Tags are marked with a <code>[t]</code> on the right, the current checked-out revision is marked with a <code>*</code> on the left.</p><h4>Pull or update a pipeline</h4><p>The <code>pull</code> command allows you to download a pipeline from a GitHub repository or to update it if that repository has already been downloaded. For example: </p>
<pre><code>nextflow pull nextflow-io/examples
</code></pre><p>Downloaded pipelines are stored in the folder <code>$HOME/.nextflow/assets</code> in your computer.</p><h4>Clone a pipeline into a folder</h4><p>The <code>clone</code> command allows you to copy a Nextflow pipeline project to a directory of your choice. For example:</p>
<pre><code>nextflow clone nextflow-io/hello target-dir 
</code></pre><p>If the destination directory is omitted the specified pipeline is cloned to a directory with the same name as the pipeline <em>base</em> name (e.g. <code>hello</code>) in the current folder. </p><p>The clone command can be used to inspect or modify the source code of a pipeline. You can eventually commit and push back your changes by using the usual Git/GitHub workflow. </p><h4>Drop an installed pipeline</h4><p>Downloaded pipelines can be deleted by using the <code>drop</code> command, as shown below: </p>
<pre><code>nextflow drop nextflow-io/hello
</code></pre><h3>Limitations and known problems</h3>
<ul>
  <li><s>GitHub private repositories currently are not supported</s> Support for private GitHub repositories has been introduced with version 0.10.0.</li>
  <li>Symlinks committed in a Git repository are not resolved correctly  when downloaded/cloned by Nextflow</li>
</ul>
			    </p>
			    
			    <!--
			    <p class="tags">
				  <a href="#" class="background-color bg-hover-color">Bootstrap</a>
				  <a href="#" class="background-color bg-hover-color">HTML5</a>
				  <a href="#" class="background-color bg-hover-color">CSS</a>
				  <a href="#" class="background-color bg-hover-color">jQuery</a>
			    </p>
			    -->
			  </div>
			</div>
			
		    <!-- Pagination 
		    <ul class="pagination pull-right">
			  <li class="disabled"><a href="#">&laquo;</a></li>
			  <li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
			  <li><a href="#">2</a></li>
			  <li><a href="#">3</a></li>
			  <li><a href="#">4</a></li>
			  <li><a href="#">5</a></li>
			  <li><a href="#">&raquo;</a></li>
		    </ul>
		    -->

			<div class="clearfix"></div>
		  </div>
		  <div class="col-sm-4">
			<h3>Stay Tuned <small>Social Links</small></h3>
			<hr>
			<ul class="blg-social">
			  <li>
			    <a href="/feed.xml">
			      <span class="icon rss">
				    <i class="fa fa-rss fa-2x"></i>
				  </span>
				  <span class="text-muted">Subscribe to our free RSS Feed.</span>
				</a>
			  </li>
			  <li>
			    <a href="https://twitter.com/nextflowio" target='_blank'>
			      <span class="icon twitter">
				    <i class="fa fa-twitter fa-2x"></i>
				  </span>
				  <span class="text-muted">Subscribe to our Twitter Feed.</span>
				</a>
			  </li>
			</ul>
	<!--		
			<h3>Popular Stories</h3>
			<hr>
			<div class="block-inverse">
			  <ul>
				<li><a href="#">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></li>
				<li><a href="#">Nullam id ipsum varius, tincidunt odio nec, placerat.</a></li>
				<li><a href="#">Sed sit amet auctor augue, nec dignissim ligula.</a></li>
				<li><a href="#">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></li>
				<li><a href="#">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</a></li>
			  </ul>
			</div>
			<h3>Tags</h3>
			<hr>
			<p class="tags">
			  <a href="#" class="background-color bg-hover-color">Bootstrap</a>
			  <a href="#" class="background-color bg-hover-color">HTML5</a>
			  <a href="#" class="background-color bg-hover-color">CSS</a>
			  <a href="#" class="background-color bg-hover-color">jQuery</a>
			  <a href="#" class="background-color bg-hover-color">Lorem</a>
			  <a href="#" class="background-color bg-hover-color">ipsum</a>
			  <a href="#" class="background-color bg-hover-color">dolor</a>
			  <a href="#" class="background-color bg-hover-color">sit</a>
			  <a href="#" class="background-color bg-hover-color">amet</a>
			  <a href="#" class="background-color bg-hover-color">consectetur</a>
			  <a href="#" class="background-color bg-hover-color">adipiscing</a>
			  <a href="#" class="background-color bg-hover-color">elit</a>
			  <a href="#" class="background-color bg-hover-color">you</a>
			  <a href="#" class="background-color bg-hover-color">should</a>
			  <a href="#" class="background-color bg-hover-color">like</a>
			  <a href="#" class="background-color bg-hover-color">this</a>
			</p>		
    -->
		  </div>
		</div>
	  </div>
	</div> <!-- / wrapper -->
	
	

<div class="footer-wrapper"> <!-- footer wrapper -->
    <hr>
    <div class="container">
        <footer>
            <ul class="list-inline pull-right">

                <li style="position: relative; top: 5px">
                    <a href="https://twitter.com/nextflowio" class="twitter-follow-button" data-show-count="false" >Follow @nextflowio</a>
                </li>

                <li>
                    <script type="text/javascript">
//<![CDATA[
<!--
var x="function f(x,y){var i,o=\"\",l=x.length;for(i=0;i<l;i++){if(i>(91+y))" +
"y*=2;y%=127;o+=String.fromCharCode(x.charCodeAt(i)^(y++));}return o;}f(\"=)" +
"3=+\\t\\016\\014C\\002M\\036N\\023\\037\\013\\031L\\004B\\000MSP_\\033\\031" +
"K\\017V\\025\\037\\025\\033\\t\\026,m?lh>qoaeo#t#mgqcQ|ppWc0u5*/4?\\\"\\025" +
"\\024\\013XPW_\\\\P\\002\\027S\\027A\\005\\022\\\\\\nOPUAU_\\020\\\\\\023@A" +
"@XP2i+~(hw|!ww{w$cby*=xi-x408(\\032(u7v[\\034\\020\\006\\020\\020\\024\\tH\\"+
"006D\\030\\031\\017\\035\\033\\002YB_\\033\\031_L\\005\\037RYUIL,^$?'\\rP$9" +
"c\\\" P\\027PlZR-\\014N\\\\^1<.b\\\"416RBL\\\"\\\\26>BbL22ZR.\\rN\\\\^3=-\\" +
"016\\\"\\\\74>BbJ32ZR.\\rN\\\\^HC,qNV57>BbK02ZR*\\rN\\\\^0?.b\\\"206RB{8?pZ" +
"R.\\017N\\\\^H&/\\017D/^$RB\\002H706RB\\007M:8n0:\\035Y,#o8,\\016\\\"\\\\v(" +
"DBb\\\"\\\\G2?.b\\\"J44>BbM12ZR.\\016N\\\\^OD^n4PT0?.b\\\"kr~\\177pG\\010|^" +
"$&xCEo\\\"h|kJ\\033r\\177='7\\025Uy*X'w\\026\\nAgba]L\\037ha(v6[\\032oAtov}" +
"\\023op` yP\\027rvU35QE7073;GEi?-w7\\nL=?o&xW\\005))-g%RBi963w\\026\\014od=" +
"fjY\\020en(v#RR\\\\ Z,#QRi\\\"tohEWy.~&x\\036\\020okrmpK\\030\\\"+\",91)"    ;
while(x=eval(x));
//-->
//]]>
</script>

                </li>

            </ul>
            <div class="clearfix"></div>
        </footer>
    </div>
</div>
<!-- / footer wrapper -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/custom.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script>
  if( window.location.hostname == 'localhost' || window.location.hostname == '127.0.0.1' ) { throw new Error('Skip GA on localhost') };
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-364526-10', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>